<div fxFlex="100" fxLayout="row wrap" fxLayoutAlign="center stretch">
  <div
    fxFlex.gt-lg="80"
    fxFlex.gt-xs="90"
    fxLayout="row wrap"
    fxLayoutAlign="start stretch"
  >
    <app-sub-head fxFlex="100"></app-sub-head>
    <!-- <div fxFlex="100" fxLayout="row wrap" fxLayoutAlign="start start">
      <label>Y1 Max: </label>

      <input
        type="number"
        class="bg-red-400 me-4"
        (change)="handleAllMax($event, 0)"
      />
      <label>Y1 Min: </label>
      <input
        type="number"
        class="bg-red-400 me-4"
        (change)="handleAllMin($event, 0)"
      />

      <label>Y2 Max: </label>
      <input
        type="number"
        class="bg-red-400 me-4"
        (change)="handleAllMax($event, 1)"
      />
      <label>Y2 Min: </label>
      <input
        type="number"
        class="bg-red-400 me-4"
        (change)="handleAllMin($event, 1)"
      />
    </div> -->
    <div
      fxFlex="100"
      fxLayout="row wrap"
      fxLayoutAlign="center start"
      class="p-3 mt-2 glass-1"
    >
      <ng-container *ngIf="chartDataOption">
        <div
          class="mb-36"
          fxFlex="100"
          fxLayout="row wrap"
          fxLayoutAlign="center start"
          *ngFor="let item of chartDataOption; let i = index"
        >
          <div
            fxFlex="100"
            fxLayout="row wrap"
            fxLayoutAlign="start stretch"
            style="height: 70vh"
            id="print{{ i }}"
          >
            <div
              fxFlex="60"
              id="chart{{ i }}"
              style="width: 100%; height: 100%; margin-top: 3rem"
            ></div>
            <div
              fxFlex="40"
              fxLayout="row wrap"
              fxLayoutAlign="center start"
              class="p-2 mt-10"
            >
              <div fxFlex="100">
                <span class="fs-5"> Weekly yield result </span>
              </div>
              <div fxFlex="100">
                <span class="fs-6 fw-light ps-4">
                  {{ item.title.text }}
                </span>
              </div>
              <table fxFlex="100" class="mt-3">
                <thead class="thead">
                  <tr>
                    <th
                      *ngFor="let head of table[i].head; let i2 = index"
                      class="text-xl"
                    >
                      {{ head }}
                    </th>
                  </tr>
                </thead>
                <tbody class="tbody">
                  <tr *ngFor="let body of table[i].body; let i3 = index">
                    <td
                      *ngFor="let b of body; let i4 = index"
                      class="text-lg font-semibold"
                      [class]="compareClass(body[0], table[i].body, i4, b)"
                    >
                      {{ b }}
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <div
            fxFlex="100"
            fxLayout="row wrap"
            fxLayoutAlign="end center"
            class="me-4 mt-18"
          >
            <label>Y1 Max: </label>

            <input
              type="number"
              class="bg-red-400 me-4"
              (change)="handleMax(i, $event, 0)"
              [(ngModel)]="item.yAxis[0].max"
            />
            <label>Y1 Min: </label>
            <input
              type="number"
              class="bg-red-400 me-4"
              (change)="handleMin(i, $event, 0)"
              [(ngModel)]="item.yAxis[0].min"
            />

            <label>Y2 Max: </label>
            <input
              type="number"
              class="bg-red-400 me-4"
              (change)="handleMax(i, $event, 1)"
              [(ngModel)]="item.yAxis[1].max"
            />
            <label>Y2 Min: </label>
            <input
              type="number"
              class="bg-red-400 me-4"
              (change)="handleMin(i, $event, 1)"
              [(ngModel)]="item.yAxis[1].min"
            />
            <button
              mat-stroked-button
              color="primary"
              class="me-3"
              (click)="handleExportPDF(i, item.title.text)"
            >
              <span class="material-icons-outlined"> picture_as_pdf </span>
              <span> Download PDF </span>
            </button>
            <button
              mat-stroked-button
              color="accent"
              (click)="handleExportIMG(i, item.title.text)"
            >
              <span class="material-icons-outlined"> image </span>
              <span> Download IMG </span>
            </button>
          </div>
          <mat-divider fxFlex="100" class="mt-5"></mat-divider>
        </div>
      </ng-container>
    </div>
  </div>
</div>
